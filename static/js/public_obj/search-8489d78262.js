!function(){function t(){var t=this;t.group=[],t.selected={},t.edit=null,t.activated=!!t.edit,t.callback=function(){}}t.prototype.init=function(t){var i=this;i.group=t.group,i.callback=t.callback,i.group.forEach(function(t){t.opts.forEach(function(t){i.selected[t.id]=!1})})},t.prototype.select=function(t){var i=this;i.start(),i.edit[t]=!i.edit[t]},t.prototype.selectAll=function(){var i=this,t=i.group;i.start(),t.forEach(function(t){t.opts.forEach(function(t){i.edit[t.id]=!0})})},t.prototype.selectInvert=function(){var i=this,t=i.group;i.start(),t.forEach(function(t){t.opts.forEach(function(t){i.edit[t.id]=!i.edit[t.id]})})},t.prototype.start=function(){var o=this;o.edit=o.edit||function(){var t,i={};for(t in o.selected)i[t]=o.selected[t];return i}(),o.activated=!!o.edit},t.prototype.ok=function(){var o=this,t=o.group,e=[];o.start(),t.forEach(function(t,i){t=t.opts;e[i]=[],t.forEach(function(t){o.selected[t.id]=!!o.edit[t.id],o.edit[t.id]&&e[i].push(t.id)})}),o.edit=null,o.activated=!!o.edit,o.callback(e)},t.prototype.cancel=function(){var t=this;t.edit=null,t.activated=!!t.edit},itou.publicObj.search=t}();